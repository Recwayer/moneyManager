# Сервис управления личными финансами

Java-приложение для учета доходов и расходов с системой бюджетов и многопользовательской поддержкой.

## Функциональность
- Учет доходов и расходов по категориям
- Установка и отслеживание бюджетов по категориям
- Уведомления о превышении бюджетов и отрицательном балансе
- Переводы между пользователями
- Экспорт данных в CSV формате
- Многопользовательский режим с авторизацией
- Сохранение данных между сессиями

## Требования
- Java 17 или выше
- Gradle 7.0+

## Установка и запуск
Клонируйте репозиторий:
```shell
git clone https://github.com/Recwayer/moneyManager.git
cd moneyManager
```

Запустите приложение:
```shell
./gradlew run
```

Или соберите JAR и запустите:
```shell
./gradlew jar
java -jar build/libs/moneyManager-1.0.0.jar
```

# Использование
После запуска приложения доступно меню с следующими опциями:
- Вход в систему
- Регистрация нового пользователя
- Помощь

После аавторизации доступно главное меню.
## Главное меню:
- Управление категориями
- Управление бюджетами
- Добавить доход
- Добавить расход
- Показать отчет
- Показать уведомления
- Перевести деньги
- Экспорт данных
- Сменить пользователя
- Помощь (help)
- Выход

### Управление категориями:
1. Выберите пункт "Управление категориями"
2. Доступные действия:
   - Показать все категории
   - Добавить категорию
   - Удалить категорию

### Управление бюджетами:
1. Выберите пункт "Управление бюджетами"
2. Доступные действия:
   - Показать все бюджеты
   - Установить бюджет
   - Редактировать бюджет
   - Удалить бюджет

### Добавление операций
1. Выберите "Добавить доход" или "Добавить расход"
2. Выберите категорию из списка доступных
3. Введите сумму
4. Операция автоматически учитывается в бюджетах и отчетах

### Переводы между пользователями
1. Выберите "Перевести деньги"
2. Введите имя пользователя-получателя
3. Укажите сумму перевода
4. Система автоматически создаст расход у отправителя и доход у получателя

### Экспорт данных
1. Выберите "Экспорт данных"
2. Введите название файла для экспорта

# Особенности реализации
## Безопасность
- Хеширование паролей с использованием SHA-256
- Валидация всех входных данных
- Нормализация имен пользователей и категорий
## Управление бюджетами
- Автоматический расчет использованных средств
- Уведомления при достижении 80% и 100% лимита
- Защита от установки бюджета меньше уже потраченной суммы
## Многопользовательская система
- Изоляция данных между пользователями
- Индивидуальные категории и бюджеты
- Переводы с проверкой существования пользователя
## Сохранение данных
- Автоматическое сохранение при выходе
- Загрузка данных при запуске
- Экспорт в CSV для внешнего анализа

# Архитектура и решения
## Структура проекта
```
domain/ - Доменные модели
    User - Модель пользователя
    Wallet - Кошелек пользователя
    Transaction - Финансовая операция
    Budget - Бюджет категории
    FinancialReport - Финансовый отчет
    Alert - Уведомление системы
repository/ - Слой данных
    UserRepository - Интерфейс репозитория пользователей
    InMemoryUserRepository - In-memory реализация
service/ - Бизнес-логика
    AuthService - Интерфейс сервиса авторизация и аутентификация
    AuthServiceImpl - Авторизация и аутентификация
    UserService - Интерфейс сервиса управления пользователями
    UserServiceImpl - Управление пользователями
    WalletService - Интерфейс сервиса операций с финансами
    WalletServiceImpl - Операции с финансами
    CategoryService - Интерфейс сервиса управления категориями
    CategoryServiceImpl - Управление категориями
controller/ - UI-слой
    ConsoleController - Консольный интерфейс
util/ - Вспомогательные утилиты
    validation/ - Валидация данных
    fileio/ - Работа с файлами
    auth/ - Хеширование паролей
    normalizer/ - Нормализация данных
```
Слоистая архитектура:
- Domain - чистые модели данных
- Repository - абстракция доступа к данным
- Service - бизнес-логика и правила
- Controller - взаимодействие с пользователем
- Util - технические утилиты

# Тестирование
Запуск тестов:
```shell
./gradlew test
```
Всего: 41 тест

## Ключевые тестовые сценарии
- Авторизация и регистрация пользователей
- Операции с доходами и расходами
- Управление бюджетами и уведомления
- Валидация входных данных
- Переводы между пользователями
- Интеграционные тесты полного цикла управления финансами